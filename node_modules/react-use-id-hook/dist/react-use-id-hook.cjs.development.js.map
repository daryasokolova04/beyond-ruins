{"version":3,"file":"react-use-id-hook.cjs.development.js","sources":["../src/index.tsx"],"sourcesContent":["import React, {\n\tFunctionComponent,\n\tcreateContext,\n\tuseContext,\n\tuseRef,\n} from 'react'\nimport PropTypes from 'prop-types'\n\nconst Id = createContext<() => string>(() => {\n\tthrow new TypeError('Please wrap your application with IdProvider')\n})\n\ntype IdState = {\n\tid: number\n\tget(): string\n}\nconst useIdGetter = (prefix = 'id') => {\n\tconst ref = useRef<IdState>()\n\tif (!ref.current) {\n\t\tconst me = {id: 0, get: () => `${prefix}-${me.id++}`}\n\t\tref.current = me\n\t}\n\treturn ref.current.get\n}\n\nexport const IdProvider: FunctionComponent = ({children}) => {\n\tconst get = useIdGetter()\n\treturn <Id.Provider value={get}>{children}</Id.Provider>\n}\nIdProvider.propTypes = {children: PropTypes.node.isRequired}\n\nexport const useId = () => {\n\tconst getter = useContext(Id)\n\tconst ref = useRef<string>()\n\tif (!ref.current) ref.current = getter()\n\treturn ref.current\n}\n\nexport const useGetId = () => {\n\tconst getter = useContext(Id)\n\tconst base = useRef<string>()\n\tif (!base.current) base.current = getter()\n\treturn useIdGetter(base.current)\n}\n"],"names":["Id","createContext","TypeError","useIdGetter","prefix","ref","useRef","current","me","id","get","IdProvider","children","React","Provider","value","propTypes","PropTypes","node","isRequired","useId","getter","useContext","useGetId","base"],"mappings":";;;;;;;;AAQA,IAAMA,EAAE;;AAAGC,mBAAa,CAAe;QAChC,IAAIC,SAAJ,CAAc,8CAAd,CAAN;CADuB,CAAxB;;AAQA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,MAAD;MAACA;IAAAA,SAAS;;;MACvBC,GAAG,GAAGC,YAAM,EAAlB;;MACI,CAACD,GAAG,CAACE,OAAT,EAAkB;QACXC,EAAE,GAAG;MAACC,EAAE,EAAE,CAAL;MAAQC,GAAG,EAAE;eAASN,MAAT,SAAmBI,EAAE,CAACC,EAAH,EAAnB;;KAAxB;IACAJ,GAAG,CAACE,OAAJ,GAAcC,EAAd;;;SAEMH,GAAG,CAACE,OAAJ,CAAYG,GAAnB;CAND;;AASA,IAAaC,UAAU,GAAsB,SAAhCA,UAAgC;MAAEC,gBAAAA;MACxCF,GAAG,GAAGP,WAAW,EAAvB;SACOU,4BAAA,CAACb,EAAE,CAACc,QAAJ;IAAaC,KAAK,EAAEL;GAApB,EAA0BE,QAA1B,CAAP;CAFM;AAIPD,UAAU,CAACK,SAAX,GAAuB;EAACJ,QAAQ,EAAEK,SAAS,CAACC,IAAV,CAAeC;CAAjD;AAEA,IAAaC,KAAK,GAAG,SAARA,KAAQ;MACdC,MAAM,GAAGC,gBAAU,CAACtB,EAAD,CAAzB;MACMK,GAAG,GAAGC,YAAM,EAAlB;MACI,CAACD,GAAG,CAACE,OAAT,EAAkBF,GAAG,CAACE,OAAJ,GAAcc,MAAM,EAApB;SACXhB,GAAG,CAACE,OAAX;CAJM;AAOP,IAAagB,QAAQ,GAAG,SAAXA,QAAW;MACjBF,MAAM,GAAGC,gBAAU,CAACtB,EAAD,CAAzB;MACMwB,IAAI,GAAGlB,YAAM,EAAnB;MACI,CAACkB,IAAI,CAACjB,OAAV,EAAmBiB,IAAI,CAACjB,OAAL,GAAec,MAAM,EAArB;SACZlB,WAAW,CAACqB,IAAI,CAACjB,OAAN,CAAlB;CAJM;;;;;;"}