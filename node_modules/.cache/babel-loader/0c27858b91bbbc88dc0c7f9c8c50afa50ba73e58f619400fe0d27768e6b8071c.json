{"ast":null,"code":"const data = [{\n  id: 1,\n  name: \"ivan\",\n  surname: \"ivanov\",\n  sex: \"Мужской\",\n  email: \"ivan.ivanov@mail.ru\",\n  password: \"123\",\n  license: true\n}, {\n  id: 123,\n  name: \"kate\",\n  surname: \"sidorova\",\n  sex: \"Женский\",\n  email: \"kate@kate.com\",\n  password: \"456\",\n  license: true\n}];\nif (!localStorage.getItem(\"data\")) {\n  localStorage.setItem(\"data\", JSON.stringify(data));\n}\nconst fetchAll = () => new Promise(resolve => {\n  window.setTimeout(function () {\n    resolve(JSON.parse(localStorage.getItem(\"data\")));\n  }, 0);\n});\nconst getById = id => new Promise(resolve => {\n  window.setTimeout(function () {\n    resolve(JSON.parse(localStorage.getItem(\"data\")).find(user => user.id === id));\n  }, 1000);\n});\n\n// const clearLocalStorage = () => {\n//   localStorage.clear();\n// };\n\nconst add = (id, user) => new Promise(resolve => {\n  const data = JSON.parse(localStorage.getItem(\"data\"));\n  data[id] = user;\n  localStorage.setItem(\"users\", JSON.stringify(data));\n  resolve(data[id]);\n});\nconst update = (id, user) => new Promise(resolve => {\n  const data = JSON.parse(localStorage.getItem(\"data\"));\n  const userIndex = data.findIndex(u => u.id === id);\n  data[userIndex] = {\n    ...data[userIndex],\n    ...user\n  };\n  localStorage.setItem(\"users\", JSON.stringify(data));\n  resolve(data[userIndex]);\n});\nexport default {\n  fetchAll,\n  getById,\n  update\n  //   clearLocalStorage,\n};","map":{"version":3,"names":["data","id","name","surname","sex","email","password","license","localStorage","getItem","setItem","JSON","stringify","fetchAll","Promise","resolve","window","setTimeout","parse","getById","find","user","add","update","userIndex","findIndex","u"],"sources":["/Users/darya/project/src/api/fake.api/users.api.js"],"sourcesContent":["const data = [\n  {\n    id: 1,\n    name: \"ivan\",\n    surname: \"ivanov\",\n    sex: \"Мужской\",\n    email: \"ivan.ivanov@mail.ru\",\n    password: \"123\",\n    license: true,\n  },\n  {\n    id: 123,\n    name: \"kate\",\n    surname: \"sidorova\",\n    sex: \"Женский\",\n    email: \"kate@kate.com\",\n    password: \"456\",\n    license: true,\n  },\n];\n\nif (!localStorage.getItem(\"data\")) {\n  localStorage.setItem(\"data\", JSON.stringify(data));\n}\n\nconst fetchAll = () =>\n  new Promise((resolve) => {\n    window.setTimeout(function () {\n      resolve(JSON.parse(localStorage.getItem(\"data\")));\n    }, 0);\n  });\n\nconst getById = (id) =>\n  new Promise((resolve) => {\n    window.setTimeout(function () {\n      resolve(\n        JSON.parse(localStorage.getItem(\"data\")).find((user) => user.id === id)\n      );\n    }, 1000);\n  });\n\n// const clearLocalStorage = () => {\n//   localStorage.clear();\n// };\n\nconst add = (id, user) =>\n  new Promise((resolve) => {\n    const data = JSON.parse(localStorage.getItem(\"data\"));\n    data[id] = user;\n    localStorage.setItem(\"users\", JSON.stringify(data));\n    resolve(data[id]);\n  });\n\nconst update = (id, user) =>\n  new Promise((resolve) => {\n    const data = JSON.parse(localStorage.getItem(\"data\"));\n    const userIndex = data.findIndex((u) => u.id === id);\n    data[userIndex] = { ...data[userIndex], ...user };\n    localStorage.setItem(\"users\", JSON.stringify(data));\n    resolve(data[userIndex]);\n  });\n\nexport default {\n  fetchAll,\n  getById,\n  update,\n  //   clearLocalStorage,\n};\n"],"mappings":"AAAA,MAAMA,IAAI,GAAG,CACX;EACEC,EAAE,EAAE,CAAC;EACLC,IAAI,EAAE,MAAM;EACZC,OAAO,EAAE,QAAQ;EACjBC,GAAG,EAAE,SAAS;EACdC,KAAK,EAAE,qBAAqB;EAC5BC,QAAQ,EAAE,KAAK;EACfC,OAAO,EAAE;AACX,CAAC,EACD;EACEN,EAAE,EAAE,GAAG;EACPC,IAAI,EAAE,MAAM;EACZC,OAAO,EAAE,UAAU;EACnBC,GAAG,EAAE,SAAS;EACdC,KAAK,EAAE,eAAe;EACtBC,QAAQ,EAAE,KAAK;EACfC,OAAO,EAAE;AACX,CAAC,CACF;AAED,IAAI,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAE;EACjCD,YAAY,CAACE,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACZ,IAAI,CAAC,CAAC;AACpD;AAEA,MAAMa,QAAQ,GAAGA,CAAA,KACf,IAAIC,OAAO,CAAEC,OAAO,IAAK;EACvBC,MAAM,CAACC,UAAU,CAAC,YAAY;IAC5BF,OAAO,CAACJ,IAAI,CAACO,KAAK,CAACV,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;EACnD,CAAC,EAAE,CAAC,CAAC;AACP,CAAC,CAAC;AAEJ,MAAMU,OAAO,GAAIlB,EAAE,IACjB,IAAIa,OAAO,CAAEC,OAAO,IAAK;EACvBC,MAAM,CAACC,UAAU,CAAC,YAAY;IAC5BF,OAAO,CACLJ,IAAI,CAACO,KAAK,CAACV,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACW,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACpB,EAAE,KAAKA,EAAE,CACxE,CAAC;EACH,CAAC,EAAE,IAAI,CAAC;AACV,CAAC,CAAC;;AAEJ;AACA;AACA;;AAEA,MAAMqB,GAAG,GAAGA,CAACrB,EAAE,EAAEoB,IAAI,KACnB,IAAIP,OAAO,CAAEC,OAAO,IAAK;EACvB,MAAMf,IAAI,GAAGW,IAAI,CAACO,KAAK,CAACV,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EACrDT,IAAI,CAACC,EAAE,CAAC,GAAGoB,IAAI;EACfb,YAAY,CAACE,OAAO,CAAC,OAAO,EAAEC,IAAI,CAACC,SAAS,CAACZ,IAAI,CAAC,CAAC;EACnDe,OAAO,CAACf,IAAI,CAACC,EAAE,CAAC,CAAC;AACnB,CAAC,CAAC;AAEJ,MAAMsB,MAAM,GAAGA,CAACtB,EAAE,EAAEoB,IAAI,KACtB,IAAIP,OAAO,CAAEC,OAAO,IAAK;EACvB,MAAMf,IAAI,GAAGW,IAAI,CAACO,KAAK,CAACV,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EACrD,MAAMe,SAAS,GAAGxB,IAAI,CAACyB,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACzB,EAAE,KAAKA,EAAE,CAAC;EACpDD,IAAI,CAACwB,SAAS,CAAC,GAAG;IAAE,GAAGxB,IAAI,CAACwB,SAAS,CAAC;IAAE,GAAGH;EAAK,CAAC;EACjDb,YAAY,CAACE,OAAO,CAAC,OAAO,EAAEC,IAAI,CAACC,SAAS,CAACZ,IAAI,CAAC,CAAC;EACnDe,OAAO,CAACf,IAAI,CAACwB,SAAS,CAAC,CAAC;AAC1B,CAAC,CAAC;AAEJ,eAAe;EACbX,QAAQ;EACRM,OAAO;EACPI;EACA;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}