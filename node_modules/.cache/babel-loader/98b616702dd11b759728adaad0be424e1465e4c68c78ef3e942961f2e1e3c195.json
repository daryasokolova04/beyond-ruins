{"ast":null,"code":"const data = [{\n  id: \"1\",\n  name: \"ivan\",\n  surname: \"ivanov\",\n  sex: \"Мужской\",\n  email: \"ivan.ivanov@mail.ru\",\n  password: \"123\",\n  license: true\n}, {\n  id: \"2\",\n  name: \"kate\",\n  surname: \"sidorova\",\n  sex: \"Женский\",\n  email: \"kate@kate.com\",\n  password: \"456\",\n  license: true\n}];\nconst posts = [{\n  id: \"121212121212\",\n  userId: \"1\",\n  categoryId: \"type1\",\n  title: \"Lorem ipsum dolor\",\n  text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Dignissim enim sit amet venenatis. Et ligula ullamcorper malesuada proin libero nunc consequat interdum. Mauris vitae ultricies leo integer malesuada nunc vel risus. Proin nibh nisl condimentum id venenatis a condimentum vitae.\"\n}, {\n  id: \"456456456\",\n  userId: \"2\",\n  categoryId: \"type2\",\n  title: \"sed do eiusmod\",\n  text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. \"\n}, {\n  id: \"678678678678\",\n  userId: \"2\",\n  categoryId: \"type3\",\n  title: \"Dignissim enim \",\n  text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Dignissim enim sit amet venenatis. Et ligula ullamcorper malesuada proin libero nunc consequat interdum.\"\n}];\nconst categories = [{\n  id: \"type1\",\n  name: \"советы\",\n  color: \"primary\"\n}, {\n  id: \"type2\",\n  name: \"личный опыт\",\n  color: \"info\"\n}, {\n  id: \"type3\",\n  name: \"рецензия на отель\",\n  color: \"danger\"\n}, {\n  id: \"type4\",\n  name: \"рецензия на ресторан\",\n  color: \"success\"\n}, {\n  id: \"type5\",\n  name: \"путеводитель\",\n  color: \"warning\"\n}];\nconst comments = [{\n  commentId: \"com1\",\n  postId: \"121212121212\",\n  userId: \"1\",\n  commentText: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Feugiat in ante metus dictum.\"\n}];\nif (!localStorage.getItem(\"data\")) {\n  localStorage.setItem(\"data\", JSON.stringify(data));\n}\nif (!localStorage.getItem(\"posts\")) {\n  localStorage.setItem(\"posts\", JSON.stringify(posts));\n}\nif (!localStorage.getItem(\"categories\")) {\n  localStorage.setItem(\"categories\", JSON.stringify(categories));\n}\nif (!localStorage.getItem(\"comments\")) {\n  localStorage.setItem(\"comments\", JSON.stringify(comments));\n}\nconst fetchAllUsers = () => new Promise(resolve => {\n  window.setTimeout(function () {\n    resolve(JSON.parse(localStorage.getItem(\"data\")));\n  }, 0);\n});\nconst fetchAllPosts = () => new Promise(resolve => {\n  window.setTimeout(function () {\n    resolve(JSON.parse(localStorage.getItem(\"posts\")));\n  }, 0);\n});\nconst fetchAllCategories = () => new Promise(resolve => {\n  window.setTimeout(function () {\n    resolve(JSON.parse(localStorage.getItem(\"categories\")));\n  }, 0);\n});\nconst getUserById = id => new Promise(resolve => {\n  window.setTimeout(function () {\n    resolve(JSON.parse(localStorage.getItem(\"data\")).find(user => user.id === id));\n  }, 0);\n});\nconst getPostById = id => new Promise(resolve => {\n  window.setTimeout(function () {\n    resolve(JSON.parse(localStorage.getItem(\"posts\")).find(user => user.id === id));\n  }, 0);\n});\nconst getCategoryById = id => new Promise(resolve => {\n  window.setTimeout(function () {\n    resolve(JSON.parse(localStorage.getItem(\"categories\")).find(user => user.id === id));\n  }, 0);\n});\nconst addUser = user => new Promise(resolve => {\n  const data = JSON.parse(localStorage.getItem(\"data\"));\n  data.push(user);\n  localStorage.setItem(\"data\", JSON.stringify(data));\n  resolve(data => console.log(data));\n});\nconst addPost = post => new Promise(() => {\n  const posts = JSON.parse(localStorage.getItem(\"posts\"));\n  posts.push(post);\n  localStorage.setItem(\"posts\", JSON.stringify(posts));\n});\nconst deletePost = postId => new Promise(() => {\n  const posts = JSON.parse(localStorage.getItem(\"posts\"));\n  console.log(posts);\n  const updatedPosts = posts.filter(post => {\n    return post.id !== postId;\n  }) || [];\n  console.log(updatedPosts);\n  localStorage.setItem(\"posts\", JSON.stringify(updatedPosts));\n});\nconst update = (id, data) => new Promise(resolve => {\n  const posts = JSON.parse(localStorage.getItem(\"posts\"));\n  const postIndex = posts.findIndex(u => u.id === id);\n  posts[postIndex] = {\n    ...posts[postIndex],\n    ...data\n  };\n  localStorage.setItem(\"posts\", JSON.stringify(posts));\n  console.log(posts);\n  resolve(posts[postIndex]);\n});\nexport default {\n  update,\n  addPost,\n  deletePost,\n  fetchAllUsers,\n  fetchAllPosts,\n  getUserById,\n  getPostById,\n  addUser,\n  fetchAllCategories,\n  getCategoryById\n};","map":{"version":3,"names":["data","id","name","surname","sex","email","password","license","posts","userId","categoryId","title","text","categories","color","comments","commentId","postId","commentText","localStorage","getItem","setItem","JSON","stringify","fetchAllUsers","Promise","resolve","window","setTimeout","parse","fetchAllPosts","fetchAllCategories","getUserById","find","user","getPostById","getCategoryById","addUser","push","console","log","addPost","post","deletePost","updatedPosts","filter","update","postIndex","findIndex","u"],"sources":["/Users/darya/project/src/api/fake.api/users.api.js"],"sourcesContent":["const data = [\n  {\n    id: \"1\",\n    name: \"ivan\",\n    surname: \"ivanov\",\n    sex: \"Мужской\",\n    email: \"ivan.ivanov@mail.ru\",\n    password: \"123\",\n    license: true,\n  },\n  {\n    id: \"2\",\n    name: \"kate\",\n    surname: \"sidorova\",\n    sex: \"Женский\",\n    email: \"kate@kate.com\",\n    password: \"456\",\n    license: true,\n  },\n];\n\nconst posts = [\n  {\n    id: \"121212121212\",\n    userId: \"1\",\n    categoryId: \"type1\",\n    title: \"Lorem ipsum dolor\",\n    text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Dignissim enim sit amet venenatis. Et ligula ullamcorper malesuada proin libero nunc consequat interdum. Mauris vitae ultricies leo integer malesuada nunc vel risus. Proin nibh nisl condimentum id venenatis a condimentum vitae.\",\n  },\n  {\n    id: \"456456456\",\n    userId: \"2\",\n    categoryId: \"type2\",\n    title: \"sed do eiusmod\",\n    text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. \",\n  },\n  {\n    id: \"678678678678\",\n    userId: \"2\",\n    categoryId: \"type3\",\n    title: \"Dignissim enim \",\n    text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Dignissim enim sit amet venenatis. Et ligula ullamcorper malesuada proin libero nunc consequat interdum.\",\n  },\n];\n\nconst categories = [\n  { id: \"type1\", name: \"советы\", color: \"primary\" },\n\n  { id: \"type2\", name: \"личный опыт\", color: \"info\" },\n\n  { id: \"type3\", name: \"рецензия на отель\", color: \"danger\" },\n\n  { id: \"type4\", name: \"рецензия на ресторан\", color: \"success\" },\n\n  { id: \"type5\", name: \"путеводитель\", color: \"warning\" },\n];\n\nconst comments = [\n  {\n    commentId: \"com1\",\n    postId: \"121212121212\",\n    userId: \"1\",\n    commentText:\n      \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Feugiat in ante metus dictum.\",\n  },\n];\n\nif (!localStorage.getItem(\"data\")) {\n  localStorage.setItem(\"data\", JSON.stringify(data));\n}\n\nif (!localStorage.getItem(\"posts\")) {\n  localStorage.setItem(\"posts\", JSON.stringify(posts));\n}\n\nif (!localStorage.getItem(\"categories\")) {\n  localStorage.setItem(\"categories\", JSON.stringify(categories));\n}\n\nif (!localStorage.getItem(\"comments\")) {\n  localStorage.setItem(\"comments\", JSON.stringify(comments));\n}\n\nconst fetchAllUsers = () =>\n  new Promise((resolve) => {\n    window.setTimeout(function () {\n      resolve(JSON.parse(localStorage.getItem(\"data\")));\n    }, 0);\n  });\n\nconst fetchAllPosts = () =>\n  new Promise((resolve) => {\n    window.setTimeout(function () {\n      resolve(JSON.parse(localStorage.getItem(\"posts\")));\n    }, 0);\n  });\n\nconst fetchAllCategories = () =>\n  new Promise((resolve) => {\n    window.setTimeout(function () {\n      resolve(JSON.parse(localStorage.getItem(\"categories\")));\n    }, 0);\n  });\n\nconst getUserById = (id) =>\n  new Promise((resolve) => {\n    window.setTimeout(function () {\n      resolve(\n        JSON.parse(localStorage.getItem(\"data\")).find((user) => user.id === id)\n      );\n    }, 0);\n  });\n\nconst getPostById = (id) =>\n  new Promise((resolve) => {\n    window.setTimeout(function () {\n      resolve(\n        JSON.parse(localStorage.getItem(\"posts\")).find((user) => user.id === id)\n      );\n    }, 0);\n  });\n\nconst getCategoryById = (id) =>\n  new Promise((resolve) => {\n    window.setTimeout(function () {\n      resolve(\n        JSON.parse(localStorage.getItem(\"categories\")).find(\n          (user) => user.id === id\n        )\n      );\n    }, 0);\n  });\n\nconst addUser = (user) =>\n  new Promise((resolve) => {\n    const data = JSON.parse(localStorage.getItem(\"data\"));\n    data.push(user);\n    localStorage.setItem(\"data\", JSON.stringify(data));\n    resolve((data) => console.log(data));\n  });\n\nconst addPost = (post) =>\n  new Promise(() => {\n    const posts = JSON.parse(localStorage.getItem(\"posts\"));\n    posts.push(post);\n    localStorage.setItem(\"posts\", JSON.stringify(posts));\n  });\n\nconst deletePost = (postId) =>\n  new Promise(() => {\n    const posts = JSON.parse(localStorage.getItem(\"posts\"));\n    console.log(posts);\n    const updatedPosts =\n      posts.filter((post) => {\n        return post.id !== postId;\n      }) || [];\n    console.log(updatedPosts);\n    localStorage.setItem(\"posts\", JSON.stringify(updatedPosts));\n  });\n\nconst update = (id, data) =>\n  new Promise((resolve) => {\n    const posts = JSON.parse(localStorage.getItem(\"posts\"));\n    const postIndex = posts.findIndex((u) => u.id === id);\n    posts[postIndex] = { ...posts[postIndex], ...data };\n    localStorage.setItem(\"posts\", JSON.stringify(posts));\n    console.log(posts);\n    resolve(posts[postIndex]);\n  });\n\nexport default {\n  update,\n  addPost,\n  deletePost,\n  fetchAllUsers,\n  fetchAllPosts,\n  getUserById,\n  getPostById,\n  addUser,\n  fetchAllCategories,\n  getCategoryById,\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}