{"ast":null,"code":"import axios from \"axios\";\nlet intervalId = null;\nconst refresh = () => {\n  intervalId = setInterval(() => {\n    let refreshToken = localStorage.getItem(\"refresh\");\n    axios.post(\"http://127.0.0.1:8000/api/v1/refresh/\", {\n      refresh: refreshToken\n    }, {\n      dataType: \"json\",\n      contentType: \"application/json\"\n    }).then(response => {\n      localStorage.setItem(\"access\", response.data.access);\n    }).catch(err => console.log(err));\n  }, 10000);\n};\nexport const refreshToken = refresh => {\n  return refreshToken ? refresh() : \"\";\n};\nexport const abortRefeshToken = () => {\n  if (intervalId) clearInterval(intervalId);\n};","map":{"version":3,"names":["axios","intervalId","refresh","setInterval","refreshToken","localStorage","getItem","post","dataType","contentType","then","response","setItem","data","access","catch","err","console","log","abortRefeshToken","clearInterval"],"sources":["/Users/darya/project/src/services/refresh.jsx"],"sourcesContent":["import axios from \"axios\";\n\nlet intervalId = null;\n\nconst refresh = () => {\n  intervalId = setInterval(() => {\n    let refreshToken = localStorage.getItem(\"refresh\");\n    axios\n      .post(\n        \"http://127.0.0.1:8000/api/v1/refresh/\",\n        { refresh: refreshToken },\n        {\n          dataType: \"json\",\n          contentType: \"application/json\",\n        }\n      )\n      .then((response) => {\n        localStorage.setItem(\"access\", response.data.access);\n      })\n      .catch((err) => console.log(err));\n  }, 10000);\n};\n\nexport const refreshToken = (refresh) => {\n  return refreshToken ? refresh() : \"\";\n};\n\nexport const abortRefeshToken = () => {\n  if (intervalId) clearInterval(intervalId);\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,IAAIC,UAAU,GAAG,IAAI;AAErB,MAAMC,OAAO,GAAGA,CAAA,KAAM;EACpBD,UAAU,GAAGE,WAAW,CAAC,MAAM;IAC7B,IAAIC,YAAY,GAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;IAClDN,KAAK,CACFO,IAAI,CACH,uCAAuC,EACvC;MAAEL,OAAO,EAAEE;IAAa,CAAC,EACzB;MACEI,QAAQ,EAAE,MAAM;MAChBC,WAAW,EAAE;IACf,CACF,CAAC,CACAC,IAAI,CAAEC,QAAQ,IAAK;MAClBN,YAAY,CAACO,OAAO,CAAC,QAAQ,EAAED,QAAQ,CAACE,IAAI,CAACC,MAAM,CAAC;IACtD,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;EACrC,CAAC,EAAE,KAAK,CAAC;AACX,CAAC;AAED,OAAO,MAAMZ,YAAY,GAAIF,OAAO,IAAK;EACvC,OAAOE,YAAY,GAAGF,OAAO,CAAC,CAAC,GAAG,EAAE;AACtC,CAAC;AAED,OAAO,MAAMiB,gBAAgB,GAAGA,CAAA,KAAM;EACpC,IAAIlB,UAAU,EAAEmB,aAAa,CAACnB,UAAU,CAAC;AAC3C,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}