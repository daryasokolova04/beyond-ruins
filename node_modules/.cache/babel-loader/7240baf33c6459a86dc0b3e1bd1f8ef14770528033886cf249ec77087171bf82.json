{"ast":null,"code":"const users = [{\n  id: 1,\n  name: \"ivan\",\n  surname: \"ivanov\",\n  sex: \"Мужской\",\n  email: \"ivan.ivanov@mail.ru\",\n  password: \"123\",\n  license: true\n}, {\n  id: 123,\n  name: \"kate\",\n  surname: \"sidorova\",\n  sex: \"Женский\",\n  email: \"kate@kate.com\",\n  password: \"456\",\n  license: true\n}];\nif (!localStorage.getItem(\"users\")) {\n  localStorage.setItem(\"users\", JSON.stringify(users));\n}\nconst fetchAll = () => new Promise(resolve => {\n  window.setTimeout(function () {\n    resolve(JSON.parse(localStorage.getItem(\"users\")));\n  }, 0);\n});\nconst getById = id => new Promise(resolve => {\n  window.setTimeout(function () {\n    resolve(JSON.parse(localStorage.getItem(\"users\")).find(user => user._id === id));\n  }, 1000);\n});\n\n// const clearLocalStorage = () => {\n//   localStorage.clear();\n// };\n\nconst update = (id, data) => new Promise(resolve => {\n  const users = JSON.parse(localStorage.getItem(\"users\"));\n  const userIndex = users.findIndex(u => u._id === id);\n  users[userIndex] = {\n    ...users[userIndex],\n    ...data\n  };\n  localStorage.setItem(\"users\", JSON.stringify(users));\n  resolve(users[userIndex]);\n});\nexport default {\n  fetchAll,\n  getById,\n  update\n  //   clearLocalStorage,\n};","map":{"version":3,"names":["users","id","name","surname","sex","email","password","license","localStorage","getItem","setItem","JSON","stringify","fetchAll","Promise","resolve","window","setTimeout","parse","getById","find","user","_id","update","data","userIndex","findIndex","u"],"sources":["/Users/darya/project/src/api/fake.api/users.api.js"],"sourcesContent":["const users = [\n  {\n    id: 1,\n    name: \"ivan\",\n    surname: \"ivanov\",\n    sex: \"Мужской\",\n    email: \"ivan.ivanov@mail.ru\",\n    password: \"123\",\n    license: true,\n  },\n  {\n    id: 123,\n    name: \"kate\",\n    surname: \"sidorova\",\n    sex: \"Женский\",\n    email: \"kate@kate.com\",\n    password: \"456\",\n    license: true,\n  },\n];\n\nif (!localStorage.getItem(\"users\")) {\n  localStorage.setItem(\"users\", JSON.stringify(users));\n}\n\nconst fetchAll = () =>\n  new Promise((resolve) => {\n    window.setTimeout(function () {\n      resolve(JSON.parse(localStorage.getItem(\"users\")));\n    }, 0);\n  });\n\nconst getById = (id) =>\n  new Promise((resolve) => {\n    window.setTimeout(function () {\n      resolve(\n        JSON.parse(localStorage.getItem(\"users\")).find(\n          (user) => user._id === id\n        )\n      );\n    }, 1000);\n  });\n\n// const clearLocalStorage = () => {\n//   localStorage.clear();\n// };\n\nconst update = (id, data) =>\n  new Promise((resolve) => {\n    const users = JSON.parse(localStorage.getItem(\"users\"));\n    const userIndex = users.findIndex((u) => u._id === id);\n    users[userIndex] = { ...users[userIndex], ...data };\n    localStorage.setItem(\"users\", JSON.stringify(users));\n    resolve(users[userIndex]);\n  });\n\nexport default {\n  fetchAll,\n  getById,\n  update,\n  //   clearLocalStorage,\n};\n"],"mappings":"AAAA,MAAMA,KAAK,GAAG,CACZ;EACEC,EAAE,EAAE,CAAC;EACLC,IAAI,EAAE,MAAM;EACZC,OAAO,EAAE,QAAQ;EACjBC,GAAG,EAAE,SAAS;EACdC,KAAK,EAAE,qBAAqB;EAC5BC,QAAQ,EAAE,KAAK;EACfC,OAAO,EAAE;AACX,CAAC,EACD;EACEN,EAAE,EAAE,GAAG;EACPC,IAAI,EAAE,MAAM;EACZC,OAAO,EAAE,UAAU;EACnBC,GAAG,EAAE,SAAS;EACdC,KAAK,EAAE,eAAe;EACtBC,QAAQ,EAAE,KAAK;EACfC,OAAO,EAAE;AACX,CAAC,CACF;AAED,IAAI,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE;EAClCD,YAAY,CAACE,OAAO,CAAC,OAAO,EAAEC,IAAI,CAACC,SAAS,CAACZ,KAAK,CAAC,CAAC;AACtD;AAEA,MAAMa,QAAQ,GAAGA,CAAA,KACf,IAAIC,OAAO,CAAEC,OAAO,IAAK;EACvBC,MAAM,CAACC,UAAU,CAAC,YAAY;IAC5BF,OAAO,CAACJ,IAAI,CAACO,KAAK,CAACV,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;EACpD,CAAC,EAAE,CAAC,CAAC;AACP,CAAC,CAAC;AAEJ,MAAMU,OAAO,GAAIlB,EAAE,IACjB,IAAIa,OAAO,CAAEC,OAAO,IAAK;EACvBC,MAAM,CAACC,UAAU,CAAC,YAAY;IAC5BF,OAAO,CACLJ,IAAI,CAACO,KAAK,CAACV,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAACW,IAAI,CAC3CC,IAAI,IAAKA,IAAI,CAACC,GAAG,KAAKrB,EACzB,CACF,CAAC;EACH,CAAC,EAAE,IAAI,CAAC;AACV,CAAC,CAAC;;AAEJ;AACA;AACA;;AAEA,MAAMsB,MAAM,GAAGA,CAACtB,EAAE,EAAEuB,IAAI,KACtB,IAAIV,OAAO,CAAEC,OAAO,IAAK;EACvB,MAAMf,KAAK,GAAGW,IAAI,CAACO,KAAK,CAACV,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC;EACvD,MAAMgB,SAAS,GAAGzB,KAAK,CAAC0B,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACL,GAAG,KAAKrB,EAAE,CAAC;EACtDD,KAAK,CAACyB,SAAS,CAAC,GAAG;IAAE,GAAGzB,KAAK,CAACyB,SAAS,CAAC;IAAE,GAAGD;EAAK,CAAC;EACnDhB,YAAY,CAACE,OAAO,CAAC,OAAO,EAAEC,IAAI,CAACC,SAAS,CAACZ,KAAK,CAAC,CAAC;EACpDe,OAAO,CAACf,KAAK,CAACyB,SAAS,CAAC,CAAC;AAC3B,CAAC,CAAC;AAEJ,eAAe;EACbZ,QAAQ;EACRM,OAAO;EACPI;EACA;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}